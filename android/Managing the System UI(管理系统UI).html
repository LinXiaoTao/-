<!DOCTYPE html>
<html class="theme theme-white">
<head>
<meta charset="utf-8">
<title>Managing the System UI(管理系统UI)</title>
<link href="https://www.zybuluo.com/static/assets/template-theme-white.css" rel="stylesheet" media="screen">
<style type="text/css">

#wmd-preview h1  {
    color: #0077bb; /* 将标题改为蓝色 */
}</style>
</head>
<body class="theme theme-white">
<div id="wmd-preview" class="wmd-preview wmd-preview-full-reader"><div class="md-section-divider"></div><div class="md-section-divider"></div><h1 data-anchor-id="2ufh" id="managing-the-system-ui管理系统ui">Managing the System UI(管理系统UI)</h1><div class="md-section-divider"></div><h3 data-anchor-id="1hxx" id="flag">FLAG</h3><ul data-anchor-id="tt06">
<li><code>SYSTEM_UI_FLAG_IMMERSIVE</code>:设置沉浸式，需要配合<code>SYSTEM_UI_FLAG_FULLSCREEN</code>和<code>SYSTEM_UI_FLAG_HIDE_NAVIGATION</code>的使用来隐藏状态栏和导航栏</li>
<li><code>SYSTEM_UI_FLAG_IMMERSIVE_STICKY</code>:设置粘性沉浸式，和<code>SYSTEM_UI_FLAG_IMMERSIVE</code>的区别在于，非粘性沉浸向下滑动状态栏和向上滑动导航栏会清除掉<code>SYSTEM_UI_FLAG_FULLSCREEN</code>和<code>SYSTEM_UI_FLAG_HIDE_NAVIGATION</code>标记，重现状态栏和导航栏，而粘性沉浸会暂时出现状态栏和导航栏，又重新恢复。</li>
<li><code>SYSTEM_UI_FLAG_LAYOUT_STABLE</code>:在使用<code>SYSTEM_UI_FLAG_FULLSCREEN</code>和<code>SYSTEM_UI_FLAG_HIDE_NAVIGATION</code>隐藏系统UI后，重现系统UI时候，应用窗口会重新测量大小，而引起屏幕跳跃，这个flag可以配合<code>SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN</code>和<code>SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION</code>使用，预先测量好所需的空间，从而提供稳定的视图变化。</li>
</ul><div class="md-section-divider"></div><h4 data-anchor-id="t2yu" id="注意">注意</h4><ul data-anchor-id="eog5">
<li>不能单独使用<code>SYSTEM_UI_FLAG_LAYOUT_STABLE</code>，这样从造成界面有为系统UI预留白色空间</li>
<li>如果不使用<code>SYSTEM_UI_FLAG_IMMERSIVE_STICKY</code>或<code>SYSTEM_UI_FLAG_IMMERSIVE</code>，而隐藏系统UI，在点击任意位置都会让系统UI重现</li>
<li>使用<code>SYSTEM_UI_FLAG_IMMERSIVE_STICKY</code>，不使用<code>SYSTEM_UI_FLAG_LAYOUT_STABLE</code>，也不会引起屏幕跳跃，因为粘性沉浸只是暂时重现，而不会清除标记</li>
<li>设置<code>statusBarColor</code>或<code>navigationBarColor</code>为透明后，需要同时设置<code>SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN</code>或<code>SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION</code>，不然会有白色空间</li>
<li>需要自定义系统UI，<code>windowDrawsSystemBarBackgrounds</code>必须为<code>true</code></li>
</ul></div>
</body>
</html>